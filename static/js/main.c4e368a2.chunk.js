(this["webpackJsonpreact-sms-pincode"]=this["webpackJsonpreact-sms-pincode"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),s=n(9),c=n.n(s),i=(n(14),n(1)),o=n.n(i),u=n(2),p=n(4),l=n(5),d=n(7),h=n(6),m=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apikey,r=t.app,a=t.country,e.abrupt("return",new Promise((function(e,t){fetch("http://api.smspincode.com/user/api/get_number.php?customer=".concat(n,"&app=").concat(r,"&country=").concat(a)).then(function(){var n=Object(u.a)(o.a.mark((function n(r){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(r),!r.ok){n.next=8;break}return console.log("this"),n.next=5,r.json();case 5:a=n.sent,console.log(a),a&&e(r);case 8:console.log("this"),t(r);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apikey,e.abrupt("return",new Promise((function(e,t){fetch("http://api.smspincode.com/user/api/get_history.php?customer=".concat(n)).then((function(e){return e.json()})).then((function(t){console.log(t),e(t)}),(function(e){console.log(e),t(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.apikey,a=t.app,s=t.country,e.abrupt("return",new Promise((function(e,t){fetch("http://api.smspincode.com/user/api/get_sms.php?customer=".concat(r,"&number=").concat(n,"&app=").concat(a,"&country=").concat(s)).then(function(){var n=Object(u.a)(o.a.mark((function n(r){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(r),!r.ok){n.next=7;break}return n.next=4,r.json();case 4:a=n.sent,console.log(a),e(a);case 7:t(r);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.apikey,t.app,t.country,e.abrupt("return",new Promise((function(e,t){fetch("https://api.smspincode.com/user/api/get_balance.php?customer=".concat(r)).then(function(){var n=Object(u.a)(o.a.mark((function n(r){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(r),!r.ok){n.next=7;break}return n.next=4,r.json();case 4:(a=n.sent)&&e(a.balance),e();case 7:t(r);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=(n(16),n(0)),v=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).refreshTime=3e3,e.state={isRefresh:!1,time:3},e.getMessage=function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getMessage(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onClickGetMessage=function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.state.isRefresh,e.setState({isRefresh:!r}),r?clearInterval(e.getMessageInterval):(e.getMessage(n),e.getMessageInterval=setInterval(Object(u.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0===(r=e.state.time)?e.setState({time:3}):(e.setState({time:r-1}),1===r&&e.getMessage(n));case 2:case"end":return t.stop()}}),t)}))),1e3));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isRefresh,r=t.time,a=this.props.item;return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{className:"getButton",children:Object(x.jsx)("button",{className:"getButton",onClick:function(){e.onClickGetMessage(a.number)},children:n?"Get:"+r:"Get"})})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:a.number})}),Object(x.jsx)("td",{className:"itemCode",children:Object(x.jsx)("div",{children:a.message})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:a.timestamp})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:a.country_name})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:a.app_name})})]})}}]),n}(a.a.Component),O=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).sound=new Audio("https://smspincode.com/user/plucky.mp3"),e.state={params:{apikey:"",app:"",country:""},allNumber:[],isLoading:!0,timeGetNumber:5,isGetNumber:!1,lastErrorMessage:"",money:""},e.setErrorMessage=function(t){var n=t.status+" : "+t.statusText;e.setState({lastErrorMessage:n})},e.playSound=function(){e.sound.pause(),e.sound.currentTime=0,e.sound.play()},e.refresh=Object(u.a)(o.a.mark((function t(){var n,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.state.params,e.setState({isLoading:!0}),t.next=5,f(n);case 5:return r=t.sent,t.next=8,j(n);case 8:a=t.sent,e.setState({allNumber:a,money:r}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.setErrorMessage(t.t0);case 15:e.setState({isLoading:!1});case 16:case"end":return t.stop()}}),t,null,[[0,12]])}))),e.getNewNumber=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.state.params,t.next=4,m(n);case 4:e.refresh(),e.playSound(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("this"),e.setErrorMessage(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.getMessage=function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.state.params,t.next=4,b(r,n);case 4:e.refresh(),e.playSound(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.setErrorMessage(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e.onClickGetNewNumber=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e.state.isGetNumber)?clearInterval(e.getNumberInterval):(e.getNewNumber(),e.getNumberInterval=setInterval(Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0===(n=e.state.timeGetNumber)?e.setState({timeGetNumber:5}):(e.setState({timeGetNumber:n-1}),1===n&&e.getNewNumber());case 2:case"end":return t.stop()}}),t)}))),1e3)),e.setState({isGetNumber:!n});case 3:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(window.location.search),n=t.get("key"),r=t.get("app")||"foodpanda",a=t.get("country")||"thailand",s={apikey:n,app:r,country:a},e.next=7,this.setState({params:s});case 7:return e.next=9,this.refresh();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.allNumber,r=t.isLoading,a=t.isGetNumber,s=t.timeGetNumber,c=t.params,i=t.lastErrorMessage,o=t.money,u=c.apikey,p=c.app,l=c.country;return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("div",{className:"title",children:"BooKy SMS Pincode"}),Object(x.jsxs)("div",{className:"subTitle",children:[Object(x.jsxs)("div",{children:["Key :"," ",u||Object(x.jsxs)("span",{children:["\u0e44\u0e1b\u0e43\u0e2a\u0e48 APIKey \u0e14\u0e49\u0e27\u0e22 -> ",Object(x.jsx)("a",{href:"https://smspincode.com/user/settings.php",children:"https://smspincode.com/user/settings.php"})]})]}),Object(x.jsxs)("div",{children:[p," : ",l]}),Object(x.jsxs)("div",{className:"greenText",children:["Money : ",o,"$"]})]}),Object(x.jsxs)("button",{onClick:this.onClickGetNewNumber,children:["Get Number",a&&":"+s]}),Object(x.jsx)("button",{className:"refreshButton",onClick:this.refresh,children:"Refresh"}),Object(x.jsx)("button",{className:"refreshButton",onClick:function(){window.location.reload()},children:"Stop all"}),Object(x.jsx)("span",{className:"loading",children:r&&"Loading..."}),i&&Object(x.jsxs)("div",{className:"errorMessage",children:["Last Error : ",i]}),Object(x.jsx)("div",{className:"table",children:Object(x.jsx)("table",{children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"headTableButton"}),Object(x.jsx)("td",{className:"headTable",children:"Number"}),Object(x.jsx)("td",{className:"headTableCode",children:"Code"}),Object(x.jsx)("td",{className:"headTable",children:"Time"}),Object(x.jsx)("td",{className:"headTable",children:"Country"}),Object(x.jsx)("td",{className:"headTable",children:"App"})]}),n.length>0&&n.map((function(t){return Object(x.jsx)(v,{item:t,getMessage:e.getMessage},t.timestamp)}))]})})}),Object(x.jsxs)("div",{className:"howto",children:[Object(x.jsx)("div",{className:"howtoTitle",children:"\u0e27\u0e34\u0e18\u0e35\u0e43\u0e0a\u0e49 \u0e43\u0e2a\u0e48\u0e25\u0e34\u0e07\u0e04\u0e4c\u0e15\u0e32\u0e21\u0e19\u0e35\u0e49"}),Object(x.jsxs)("div",{children:["https://book1317.github.io/react-sms-pincode-auto-refresh?key=",Object(x.jsx)("span",{className:"redText",children:"{APIkey}"}),"&","app=",Object(x.jsx)("span",{className:"redText",children:"{app}"}),"&","country=",Object(x.jsx)("span",{className:"redText",children:"{country}"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:"redText",children:"APIkey"})," = 1101600d8fa7e22bxxxxxxxxxxxxxxxxxxxxxxxxx"," (required)"," from"," ",Object(x.jsx)("a",{href:"https://smspincode.com/user/settings.php",children:"https://smspincode.com/user/settings.php"})," "]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:"redText",children:"app"})," = foodpanda ","(defualt)"]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:"redText",children:"country"})," = thailand ","(defualt)"]})]})]})}}]),n}(a.a.Component);c.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(O,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.c4e368a2.chunk.js.map